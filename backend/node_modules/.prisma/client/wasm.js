
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */

Object.defineProperty(exports, "__esModule", { value: true });

const {
  PrismaClientKnownRequestError,
  PrismaClientUnknownRequestError,
  PrismaClientRustPanicError,
  PrismaClientInitializationError,
  PrismaClientValidationError,
  getPrismaClient,
  sqltag,
  empty,
  join,
  raw,
  skip,
  Decimal,
  Debug,
  objectEnumValues,
  makeStrictEnum,
  Extensions,
  warnOnce,
  defineDmmfProperty,
  Public,
  getRuntime,
  createParam,
} = require('@prisma/client/runtime/wasm-engine-edge.js')


const Prisma = {}

exports.Prisma = Prisma
exports.$Enums = {}

/**
 * Prisma Client JS version: 6.18.0
 * Query Engine version: 34b5a692b7bd79939a9a2c3ef97d816e749cda2f
 */
Prisma.prismaVersion = {
  client: "6.18.0",
  engine: "34b5a692b7bd79939a9a2c3ef97d816e749cda2f"
}

Prisma.PrismaClientKnownRequestError = PrismaClientKnownRequestError;
Prisma.PrismaClientUnknownRequestError = PrismaClientUnknownRequestError
Prisma.PrismaClientRustPanicError = PrismaClientRustPanicError
Prisma.PrismaClientInitializationError = PrismaClientInitializationError
Prisma.PrismaClientValidationError = PrismaClientValidationError
Prisma.Decimal = Decimal

/**
 * Re-export of sql-template-tag
 */
Prisma.sql = sqltag
Prisma.empty = empty
Prisma.join = join
Prisma.raw = raw
Prisma.validator = Public.validator

/**
* Extensions
*/
Prisma.getExtensionContext = Extensions.getExtensionContext
Prisma.defineExtension = Extensions.defineExtension

/**
 * Shorthand utilities for JSON filtering
 */
Prisma.DbNull = objectEnumValues.instances.DbNull
Prisma.JsonNull = objectEnumValues.instances.JsonNull
Prisma.AnyNull = objectEnumValues.instances.AnyNull

Prisma.NullTypes = {
  DbNull: objectEnumValues.classes.DbNull,
  JsonNull: objectEnumValues.classes.JsonNull,
  AnyNull: objectEnumValues.classes.AnyNull
}





/**
 * Enums
 */
exports.Prisma.TransactionIsolationLevel = makeStrictEnum({
  ReadUncommitted: 'ReadUncommitted',
  ReadCommitted: 'ReadCommitted',
  RepeatableRead: 'RepeatableRead',
  Serializable: 'Serializable'
});

exports.Prisma.OpticaScalarFieldEnum = {
  id: 'id',
  cnpj: 'cnpj',
  nome: 'nome',
  endereco: 'endereco',
  cidade: 'cidade',
  estado: 'estado',
  telefone: 'telefone',
  email: 'email',
  ativa: 'ativa',
  ehMatriz: 'ehMatriz',
  matrizId: 'matrizId',
  criadoEm: 'criadoEm',
  atualizadoEm: 'atualizadoEm'
};

exports.Prisma.UsuarioScalarFieldEnum = {
  id: 'id',
  email: 'email',
  cpf: 'cpf',
  nome: 'nome',
  whatsapp: 'whatsapp',
  senhaHash: 'senhaHash',
  avatarUrl: 'avatarUrl',
  papel: 'papel',
  status: 'status',
  saldoMoedinhas: 'saldoMoedinhas',
  rankingMoedinhas: 'rankingMoedinhas',
  nivel: 'nivel',
  tokenResetarSenha: 'tokenResetarSenha',
  tokenResetarSenhaExpira: 'tokenResetarSenhaExpira',
  mapeamentoPlanilhaSalvo: 'mapeamentoPlanilhaSalvo',
  opticaId: 'opticaId',
  gerenteId: 'gerenteId',
  criadoEm: 'criadoEm',
  atualizadoEm: 'atualizadoEm'
};

exports.Prisma.LogAutenticacaoScalarFieldEnum = {
  id: 'id',
  tipo: 'tipo',
  email: 'email',
  cpf: 'cpf',
  usuarioId: 'usuarioId',
  ipAddress: 'ipAddress',
  userAgent: 'userAgent',
  detalhes: 'detalhes',
  criadoEm: 'criadoEm'
};

exports.Prisma.CampanhaScalarFieldEnum = {
  id: 'id',
  titulo: 'titulo',
  descricao: 'descricao',
  dataInicio: 'dataInicio',
  dataFim: 'dataFim',
  moedinhasPorCartela: 'moedinhasPorCartela',
  pontosReaisPorCartela: 'pontosReaisPorCartela',
  status: 'status',
  percentualGerente: 'percentualGerente',
  paraTodasOticas: 'paraTodasOticas',
  criadoEm: 'criadoEm',
  atualizadoEm: 'atualizadoEm'
};

exports.Prisma.RegraCartelaScalarFieldEnum = {
  id: 'id',
  numeroCartela: 'numeroCartela',
  descricao: 'descricao',
  campanhaId: 'campanhaId',
  criadoEm: 'criadoEm',
  atualizadoEm: 'atualizadoEm'
};

exports.Prisma.RequisitoCartelaScalarFieldEnum = {
  id: 'id',
  descricao: 'descricao',
  quantidade: 'quantidade',
  tipoUnidade: 'tipoUnidade',
  ordem: 'ordem',
  regraCartelaId: 'regraCartelaId',
  criadoEm: 'criadoEm',
  atualizadoEm: 'atualizadoEm'
};

exports.Prisma.CondicaoRequisitoScalarFieldEnum = {
  id: 'id',
  campo: 'campo',
  operador: 'operador',
  valor: 'valor',
  requisitoId: 'requisitoId',
  criadoEm: 'criadoEm',
  atualizadoEm: 'atualizadoEm'
};

exports.Prisma.EnvioVendaScalarFieldEnum = {
  id: 'id',
  numeroPedido: 'numeroPedido',
  status: 'status',
  dataEnvio: 'dataEnvio',
  motivoRejeicao: 'motivoRejeicao',
  infoConflito: 'infoConflito',
  numeroCartelaAtendida: 'numeroCartelaAtendida',
  dataValidacao: 'dataValidacao',
  vendedorId: 'vendedorId',
  campanhaId: 'campanhaId',
  requisitoId: 'requisitoId',
  criadoEm: 'criadoEm',
  atualizadoEm: 'atualizadoEm'
};

exports.Prisma.PremioScalarFieldEnum = {
  id: 'id',
  nome: 'nome',
  descricao: 'descricao',
  imageUrl: 'imageUrl',
  custoMoedinhas: 'custoMoedinhas',
  estoque: 'estoque',
  ativo: 'ativo',
  criadoEm: 'criadoEm',
  atualizadoEm: 'atualizadoEm'
};

exports.Prisma.ResgatePremioScalarFieldEnum = {
  id: 'id',
  dataSolicitacao: 'dataSolicitacao',
  status: 'status',
  dataAtualizacao: 'dataAtualizacao',
  motivoCancelamento: 'motivoCancelamento',
  vendedorId: 'vendedorId',
  premioId: 'premioId',
  criadoEm: 'criadoEm',
  atualizadoEm: 'atualizadoEm'
};

exports.Prisma.RelatorioFinanceiroScalarFieldEnum = {
  id: 'id',
  valor: 'valor',
  status: 'status',
  tipo: 'tipo',
  dataGerado: 'dataGerado',
  dataPagamento: 'dataPagamento',
  observacoes: 'observacoes',
  usuarioId: 'usuarioId',
  campanhaId: 'campanhaId',
  criadoEm: 'criadoEm',
  atualizadoEm: 'atualizadoEm'
};

exports.Prisma.NotificacaoScalarFieldEnum = {
  id: 'id',
  mensagem: 'mensagem',
  lida: 'lida',
  linkUrl: 'linkUrl',
  dataCriacao: 'dataCriacao',
  usuarioId: 'usuarioId',
  criadoEm: 'criadoEm',
  atualizadoEm: 'atualizadoEm'
};

exports.Prisma.ConfiguracaoGlobalScalarFieldEnum = {
  id: 'id',
  chave: 'chave',
  valor: 'valor',
  descricao: 'descricao',
  criadoEm: 'criadoEm',
  atualizadoEm: 'atualizadoEm'
};

exports.Prisma.CartelaConcluidaScalarFieldEnum = {
  id: 'id',
  dataConclusao: 'dataConclusao',
  numeroCartela: 'numeroCartela',
  vendedorId: 'vendedorId',
  campanhaId: 'campanhaId'
};

exports.Prisma.SortOrder = {
  asc: 'asc',
  desc: 'desc'
};

exports.Prisma.NullableJsonNullValueInput = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull
};

exports.Prisma.QueryMode = {
  default: 'default',
  insensitive: 'insensitive'
};

exports.Prisma.NullsOrder = {
  first: 'first',
  last: 'last'
};

exports.Prisma.JsonNullValueFilter = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull,
  AnyNull: Prisma.AnyNull
};
exports.PapelUsuario = exports.$Enums.PapelUsuario = {
  ADMIN: 'ADMIN',
  GERENTE: 'GERENTE',
  VENDEDOR: 'VENDEDOR'
};

exports.StatusUsuario = exports.$Enums.StatusUsuario = {
  PENDENTE: 'PENDENTE',
  ATIVO: 'ATIVO',
  BLOQUEADO: 'BLOQUEADO'
};

exports.StatusEnvioVenda = exports.$Enums.StatusEnvioVenda = {
  EM_ANALISE: 'EM_ANALISE',
  VALIDADO: 'VALIDADO',
  REJEITADO: 'REJEITADO',
  CONFLITO_MANUAL: 'CONFLITO_MANUAL'
};

exports.StatusPagamento = exports.$Enums.StatusPagamento = {
  PENDENTE: 'PENDENTE',
  PAGO: 'PAGO'
};

exports.NivelVendedor = exports.$Enums.NivelVendedor = {
  BRONZE: 'BRONZE',
  PRATA: 'PRATA',
  OURO: 'OURO',
  DIAMANTE: 'DIAMANTE'
};

exports.TipoUnidade = exports.$Enums.TipoUnidade = {
  PAR: 'PAR',
  UNIDADE: 'UNIDADE'
};

exports.CampoVerificacao = exports.$Enums.CampoVerificacao = {
  NOME_PRODUTO: 'NOME_PRODUTO',
  CODIGO_PRODUTO: 'CODIGO_PRODUTO',
  VALOR_VENDA: 'VALOR_VENDA',
  CATEGORIA_PRODUTO: 'CATEGORIA_PRODUTO'
};

exports.OperadorCondicao = exports.$Enums.OperadorCondicao = {
  CONTEM: 'CONTEM',
  NAO_CONTEM: 'NAO_CONTEM',
  IGUAL_A: 'IGUAL_A',
  NAO_IGUAL_A: 'NAO_IGUAL_A',
  MAIOR_QUE: 'MAIOR_QUE',
  MENOR_QUE: 'MENOR_QUE'
};

exports.StatusResgate = exports.$Enums.StatusResgate = {
  SOLICITADO: 'SOLICITADO',
  ENVIADO: 'ENVIADO',
  CANCELADO: 'CANCELADO'
};

exports.Prisma.ModelName = {
  Optica: 'Optica',
  Usuario: 'Usuario',
  LogAutenticacao: 'LogAutenticacao',
  Campanha: 'Campanha',
  RegraCartela: 'RegraCartela',
  RequisitoCartela: 'RequisitoCartela',
  CondicaoRequisito: 'CondicaoRequisito',
  EnvioVenda: 'EnvioVenda',
  Premio: 'Premio',
  ResgatePremio: 'ResgatePremio',
  RelatorioFinanceiro: 'RelatorioFinanceiro',
  Notificacao: 'Notificacao',
  ConfiguracaoGlobal: 'ConfiguracaoGlobal',
  CartelaConcluida: 'CartelaConcluida'
};
/**
 * Create the Client
 */
const config = {
  "generator": {
    "name": "client",
    "provider": {
      "fromEnvVar": null,
      "value": "prisma-client-js"
    },
    "output": {
      "value": "C:\\EPS Campanha Backup\\backend\\node_modules\\@prisma\\client",
      "fromEnvVar": null
    },
    "config": {
      "engineType": "library"
    },
    "binaryTargets": [
      {
        "fromEnvVar": null,
        "value": "windows",
        "native": true
      }
    ],
    "previewFeatures": [],
    "sourceFilePath": "C:\\EPS Campanha Backup\\backend\\prisma\\schema.prisma"
  },
  "relativeEnvPaths": {
    "rootEnvPath": null,
    "schemaEnvPath": "../../../.env"
  },
  "relativePath": "../../../prisma",
  "clientVersion": "6.18.0",
  "engineVersion": "34b5a692b7bd79939a9a2c3ef97d816e749cda2f",
  "datasourceNames": [
    "db"
  ],
  "activeProvider": "postgresql",
  "postinstall": false,
  "inlineDatasources": {
    "db": {
      "url": {
        "fromEnvVar": "DATABASE_URL",
        "value": null
      }
    }
  },
  "inlineSchema": "// ============================================================================\n// SCHEMA PRISMA - EPS CAMPANHAS (VERSÃO 5.0 - Sprint 17 - Hierarquia Matriz/Filial)\n// ============================================================================\n// Descrição: Define toda a estrutura do banco de dados PostgreSQL para a\n// plataforma SaaS de gamificação \"EPS Campanhas\".\n//\n// Alterações na Versão 5.0 (Sprint 17 - Tarefa 39 - Hierarquia Matriz/Filial):\n// - NOVA HIERARQUIA: Óticas podem ser marcadas como MATRIZ com FILIAIS vinculadas\n// - Optica: Adicionado campo ehMatriz (Boolean) para identificar matrizes\n// - Optica: Adicionado auto-relação matrizId/matriz/filiais para hierarquia\n// - Optica: Adicionado relação M2M campanhasAlvo (targeting de campanhas)\n// - Campanha: Adicionado relação M2M oticasAlvo (óticas que podem participar)\n// - Campanha: Adicionado campo paraTodasOticas (bypass do targeting)\n// - VALIDAÇÃO: CNPJ agora valida contra ótica do vendedor OU sua matriz\n// - TARGETING: Campanhas podem ser direcionadas para Matriz e/ou Filiais específicas\n// - RANKING: Gerentes de Matriz veem ranking separado por filial\n//\n// Alterações na Versão 4.3 (Sprint Refactor - Tarefa 41.1 - Nova Economia Interna):\n// - REFATORAÇÃO COMPLETA da economia do sistema: separação entre \"Pontos\" e \"Moedinhas\"\n// - Campanha: pontosPorCartela → moedinhasPorCartela (moeda virtual)\n// - Campanha: valorPorCartela → pontosReaisPorCartela (valor em R$, 1 Ponto = R$ 1,00)\n// - Usuario: saldoPontos → saldoMoedinhas (saldo para resgate de prêmios)\n// - Usuario: pontosTotais → rankingMoedinhas (base do ranking, nunca subtrai)\n// - Premio: custoPontos → custoMoedinhas (custo em moeda virtual)\n// - LÓGICA: Vendedor recebe \"Pontos\" (R$) E \"Moedinhas\" ao completar cartela\n// - Ranking baseado apenas em \"Moedinhas\" acumuladas (não afetado por resgates)\n//\n// Alterações na Versão 4.2 (Sprint 16.5 - Tarefa 38.6 - Correção Spillover):\n// - Adicionado campo ordem (Int) ao RequisitoCartela para suportar spillover correto\n// - Adicionado index em RequisitoCartela.ordem para otimizar queries de spillover\n// - CRÍTICO: Este campo permite agrupar requisitos relacionados entre cartelas\n//   (ex: \"Lentes X\" com ordem=1 nas Cartelas 1, 2 e 3 são o mesmo requisito lógico)\n//\n// Alterações na Versão 4.1 (Sprint 4 - Validação de Vendas):\n// - Adicionado campo mapeamentoPlanilhaSalvo ao Usuario (tipo Json, nullable)\n//   para armazenar preferências de mapeamento de colunas da planilha\n//\n// Alterações na Versão 4.0 (Sprint 3 - Rule Builder):\n// - Adicionado enums TipoUnidade, CampoVerificacao, OperadorCondicao\n// - Criado model CondicaoRequisito (receitas de validação dinâmicas)\n// - Refatorado RequisitoCartela (removido nomeProduto, adicionado tipoUnidade e condicoes[])\n// - Refatorado EnvioVenda (removido produtoVendido, requisito agora é obrigatório)\n//\n// Alterações na Versão 3.0 (Sprint 2 - Reset de Senha):\n// - Adicionado campos tokenResetarSenha e tokenResetarSenhaExpira no Usuario\n//\n// ============================================================================\n\ngenerator client {\n  provider = \"prisma-client-js\"\n}\n\ndatasource db {\n  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n\n// ============================================================================\n// ENUMS - Tipos Fixos do Sistema\n// ============================================================================\n\n/// Papel do usuário no sistema (hierarquia de permissões)\nenum PapelUsuario {\n  ADMIN // Acesso total, valida vendas, configura campanhas, aprova cadastros\n  GERENTE // Gerencia vendedores, recebe comissão percentual\n  VENDEDOR // Submete vendas, ganha pontos, resgata prêmios\n}\n\n/// Status do usuário no fluxo de registro e aprovação\nenum StatusUsuario {\n  PENDENTE // Usuário se registrou mas ainda não foi aprovado pelo Admin\n  ATIVO // Usuário aprovado pelo Admin, pode acessar o sistema normalmente\n  BLOQUEADO // Usuário bloqueado pelo Admin, não pode fazer login\n}\n\n/// Status do envio de venda (fluxo de validação)\nenum StatusEnvioVenda {\n  EM_ANALISE // Inicial: aguardando validação do Admin\n  VALIDADO // Admin aprovou: pontos creditados, cartela alocada\n  REJEITADO // Admin rejeitou: não credita pontos\n  CONFLITO_MANUAL // Duplicata detectada: requer intervenção manual do Admin\n}\n\n/// Status do pagamento financeiro (para Vendedor e Gerente)\nenum StatusPagamento {\n  PENDENTE // Aguardando processamento\n  PAGO // Pagamento confirmado e realizado\n}\n\n/// Nível de gamificação do vendedor (baseado em rankingMoedinhas)\nenum NivelVendedor {\n  BRONZE // Nível inicial\n  PRATA // Ex: >= 5.000 moedinhas acumuladas\n  OURO // Ex: >= 15.000 moedinhas acumuladas\n  DIAMANTE // Ex: >= 30.000 moedinhas acumuladas\n}\n\n// ============================================================================\n// ENUMS - Rule Builder (Sprint 3)\n// ============================================================================\n\n/// Tipo de unidade para contabilização de vendas\nenum TipoUnidade {\n  PAR // Venda contada em PARES (ex: 1 venda = 1 par de lentes)\n  UNIDADE // Venda contada em UNIDADES (ex: 1 venda = 1 armação)\n}\n\n/// Campo do pedido que será verificado na condição\nenum CampoVerificacao {\n  NOME_PRODUTO // Nome/descrição do produto vendido\n  CODIGO_PRODUTO // Código/SKU do produto\n  VALOR_VENDA // Valor monetário da venda (para regras de ticket mínimo)\n  CATEGORIA_PRODUTO // Categoria do produto (ex: \"LENTES\", \"ARMACOES\", \"ACESSORIOS\")\n}\n\n/// Operador lógico da condição de validação\nenum OperadorCondicao {\n  CONTEM // Campo contém o valor (case-insensitive, para strings)\n  NAO_CONTEM // Campo não contém o valor\n  IGUAL_A // Campo é exatamente igual ao valor\n  NAO_IGUAL_A // Campo é diferente do valor\n  MAIOR_QUE // Campo é numericamente maior que o valor (para VALOR_VENDA)\n  MENOR_QUE // Campo é numericamente menor que o valor\n}\n\n// ============================================================================\n// MODEL: Optica (ATUALIZADO - Sprint 17)\n// ============================================================================\n/// Representa uma ótica parceira da plataforma.\n///\n/// Alterações da Versão 5.0 (Sprint 17 - Hierarquia Matriz/Filial):\n/// - ADICIONADO: campo ehMatriz (Boolean) - indica se é uma Matriz\n/// - ADICIONADO: auto-relação matrizId/matriz/filiais - hierarquia Matriz→Filial\n/// - ADICIONADO: relação M2M campanhasAlvo - targeting de campanhas por ótica\nmodel Optica {\n  /// ID único da ótica (UUID v4)\n  id String @id @default(uuid())\n\n  /// CNPJ da ótica (único, obrigatório para identificação fiscal)\n  cnpj String @unique\n\n  /// Nome fantasia ou razão social da ótica\n  nome String\n\n  /// Endereço completo da ótica (opcional)\n  endereco String?\n\n  /// Cidade onde a ótica está localizada\n  cidade String?\n\n  /// Estado (UF) onde a ótica está localizada\n  estado String?\n\n  /// Telefone de contato da ótica\n  telefone String?\n\n  /// Email de contato da ótica\n  email String?\n\n  /// Indica se a ótica está ativa no sistema\n  ativa Boolean @default(true)\n\n  // --- NOVO: Hierarquia Matriz/Filial (Sprint 17) ---\n\n  /// Indica se esta ótica é uma Matriz (pode ter filiais vinculadas)\n  ehMatriz Boolean @default(false)\n\n  /// ID da ótica Matriz (se esta ótica for uma Filial)\n  matrizId String?\n\n  /// Referência à ótica Matriz (apenas para Filiais)\n  matriz Optica? @relation(\"MatrizFiliais\", fields: [matrizId], references: [id], onDelete: SetNull)\n\n  /// Lista de óticas Filiais (apenas para Matrizes)\n  filiais Optica[] @relation(\"MatrizFiliais\")\n\n  // --- Relações ---\n\n  /// Lista de usuários (Vendedores e Gerentes) vinculados a esta ótica\n  usuarios Usuario[] @relation(\"OpticaUsuarios\")\n\n  /// Campanhas nas quais esta ótica (ou seus vendedores) podem participar (Sprint 17)\n  campanhasAlvo Campanha[] @relation(\"CampanhasOticas\")\n\n  /// Data de criação do registro\n  criadoEm DateTime @default(now())\n\n  /// Data da última atualização\n  atualizadoEm DateTime @updatedAt\n\n  @@index([cnpj])\n  @@index([ativa])\n  @@index([ehMatriz])\n  @@index([matrizId])\n  @@map(\"opticas\")\n}\n\n// ============================================================================\n// MODEL: Usuario (ATUALIZADO - Sprint 4)\n// ============================================================================\n/// Representa todos os usuários do sistema (Admin, Gerente, Vendedor).\n///\n/// Alterações da Versão 4.1:\n/// - ADICIONADO: campo mapeamentoPlanilhaSalvo (Json, nullable)\n///   para armazenar preferências de mapeamento de colunas da planilha\nmodel Usuario {\n  /// ID único do usuário (UUID v4)\n  id String @id @default(uuid())\n\n  /// Email único para login\n  email String @unique\n\n  /// CPF único (opcional, pode ser necessário para pagamentos)\n  cpf String? @unique\n\n  /// Nome completo do usuário\n  nome String\n\n  whatsapp String?\n\n  /// Hash da senha (bcrypt, argon2, etc.) - NUNCA armazene senha em texto puro\n  senhaHash String @db.Text\n\n  /// URL do avatar (opcional, para perfil)\n  avatarUrl String?\n\n  /// Papel do usuário no sistema (ADMIN, GERENTE, VENDEDOR)\n  papel PapelUsuario\n\n  /// Status do usuário no fluxo de aprovação (PENDENTE, ATIVO, BLOQUEADO)\n  status StatusUsuario @default(PENDENTE)\n\n  // --- Campos de Gamificação (apenas para VENDEDOR) ---\n\n  /// Saldo de Moedinhas EPS (moeda virtual interna) disponível para resgate de prêmios.\n  /// SUBTRAI ao resgatar prêmios. NÃO afeta o ranking.\n  saldoMoedinhas Int @default(0)\n\n  /// Total de Moedinhas EPS acumuladas ao longo do tempo (base do ranking).\n  /// NUNCA subtrai, sempre cresce. Define posição no ranking global.\n  rankingMoedinhas Int @default(0)\n\n  /// Nível de gamificação atual (atualizado baseado em rankingMoedinhas)\n  nivel NivelVendedor @default(BRONZE)\n\n  // --- Campos para Reset de Senha ---\n\n  /// Hash do token de reset de senha (SHA-256)\n  tokenResetarSenha String? @unique\n\n  /// Data/hora de expiração do token de reset\n  tokenResetarSenhaExpira DateTime?\n\n  // --- Campos para Validação de Vendas (Admin) - Sprint 4 ---\n\n  /// Armazena as preferências de mapeamento de colunas da planilha salvas pelo Admin.\n  /// Estrutura JSON esperada:\n  /// {\n  ///   \"Coluna A\": \"NOME_PRODUTO\",\n  ///   \"Coluna B\": \"CODIGO_PRODUTO\",\n  ///   \"Coluna C\": \"VALOR_VENDA\",\n  ///   \"Coluna D\": \"NUMERO_PEDIDO\"\n  /// }\n  mapeamentoPlanilhaSalvo Json?\n\n  // --- Relação com Ótica Parceira ---\n\n  /// ID da ótica à qual este usuário pertence (apenas para GERENTE e VENDEDOR)\n  opticaId String?\n\n  /// Referência à Ótica parceira\n  optica Optica? @relation(\"OpticaUsuarios\", fields: [opticaId], references: [id], onDelete: SetNull)\n\n  // --- Relações de Hierarquia (Gerente <-> Vendedor) ---\n\n  /// ID do gerente responsável (apenas para VENDEDOR)\n  gerenteId String?\n\n  /// Referência ao Gerente (se este usuário for VENDEDOR)\n  gerente Usuario? @relation(\"GerenteVendedores\", fields: [gerenteId], references: [id], onDelete: SetNull)\n\n  /// Lista de Vendedores gerenciados (se este usuário for GERENTE)\n  vendedores Usuario[] @relation(\"GerenteVendedores\")\n\n  // --- Relações de Atividades ---\n\n  /// Envios de venda submetidos pelo vendedor\n  enviosVenda EnvioVenda[]\n\n  /// Histórico de resgates de prêmios\n  resgatesPremios ResgatePremio[]\n\n  /// Relatórios financeiros relacionados (pagamentos)\n  relatoriosFinanceiros RelatorioFinanceiro[]\n\n  /// Notificações recebidas (feed de atividades)\n  notificacoes Notificacao[]\n\n  /// Ledger de cartelas concluídas (livro-razão)\n  cartelasConcluidas CartelaConcluida[] // <-- RELAÇÃO para CartelaConcluida\n\n  /// Data de criação do registro\n  criadoEm DateTime @default(now())\n\n  /// Data da última atualização\n  atualizadoEm DateTime @updatedAt\n\n  @@index([email])\n  @@index([cpf])\n  @@index([gerenteId])\n  @@index([papel])\n  @@index([status])\n  @@index([opticaId])\n  @@index([tokenResetarSenha])\n  @@map(\"usuarios\")\n}\n\n// ============================================================================\n// MODEL: LogAutenticacao (NOVO - Sprint 18.2 - Auditoria de Segurança)\n// ============================================================================\n/// Livro-razão de auditoria para todas as tentativas de autenticação.\n/// Registra logins, registros e resets de senha para detecção de ataques.\nmodel LogAutenticacao {\n  /// ID único do log (UUID v4)\n  id String @id @default(uuid())\n\n  /// Tipo do evento (LOGIN_SUCESSO, LOGIN_FALHA_CREDENCIAIS, etc.)\n  tipo String\n\n  /// Email tentado (se aplicável)\n  email String?\n\n  /// CPF tentado (se aplicável, sanitizado)\n  cpf String?\n\n  /// ID do usuário (se login bem-sucedido)\n  usuarioId String?\n\n  /// Endereço IP do cliente\n  ipAddress String\n\n  /// User-Agent do navegador\n  userAgent String?\n\n  /// Detalhes adicionais em formato JSON\n  detalhes Json?\n\n  /// Data/hora da tentativa\n  criadoEm DateTime @default(now())\n\n  @@index([email])\n  @@index([tipo])\n  @@index([criadoEm])\n  @@index([ipAddress])\n  @@index([email, tipo, criadoEm])\n  @@map(\"logs_autenticacao\")\n}\n\n// ============================================================================\n// MODEL: Campanha (ATUALIZADO - Sprint 17)\n// ============================================================================\n/// Representa uma campanha de vendas com regras de cartelas e pontuação.\n///\n/// Alterações da Versão 5.0 (Sprint 17 - Targeting por Óticas):\n/// - ADICIONADO: relação M2M oticasAlvo - define quais óticas podem participar\n/// - ADICIONADO: campo paraTodasOticas - bypass do targeting (campanha para todos)\nmodel Campanha {\n  /// ID único da campanha (UUID v4)\n  id String @id @default(uuid())\n\n  /// Título da campanha (ex: \"Campanha Lentes Q1 2025\")\n  titulo String\n\n  /// Descrição detalhada da campanha\n  descricao String @db.Text\n\n  /// Data de início da campanha\n  dataInicio DateTime\n\n  /// Data de término da campanha\n  dataFim DateTime\n\n  /// Moedinhas virtuais (gamificação) creditadas ao vendedor por cartela completada.\n  /// Usadas para ranking e resgate de prêmios.\n  moedinhasPorCartela Int\n\n  /// Pontos equivalentes a R$ (1 Ponto = R$ 1,00) que o vendedor recebe por cartela completada.\n  /// Gera RelatorioFinanceiro para pagamento real.\n  pontosReaisPorCartela Decimal @db.Decimal(10, 2)\n\n  /// Status da campanha (ex: \"ATIVA\", \"PAUSADA\", \"CONCLUIDA\")\n  status String @default(\"ATIVA\")\n\n  /// Percentual de comissão que o gerente recebe (0.0 a 1.0, ex: 0.10 = 10%)\n  percentualGerente Decimal @default(0.0) @db.Decimal(5, 4)\n\n  // --- NOVO: Targeting de Campanhas (Sprint 17) ---\n\n  /// Indica se a campanha é para todas as óticas (ignora oticasAlvo se true)\n  paraTodasOticas Boolean @default(false)\n\n  // --- Relações ---\n\n  /// Lista de Óticas (Matriz e/ou Filiais) que são alvo desta campanha (ignorado se paraTodasOticas=true)\n  oticasAlvo Optica[] @relation(\"CampanhasOticas\")\n\n  /// Regras de cartelas desta campanha (Cartela 1, 2, 3, etc.)\n  cartelas RegraCartela[]\n\n  /// Envios de venda vinculados a esta campanha\n  enviosVenda EnvioVenda[]\n\n  /// Relatórios financeiros gerados para esta campanha\n  relatoriosFinanceiros RelatorioFinanceiro[]\n\n  /// Ledger de cartelas concluídas (livro-razão)\n  cartelasConcluidas CartelaConcluida[] // <-- RELAÇÃO para CartelaConcluida\n\n  /// Data de criação do registro\n  criadoEm DateTime @default(now())\n\n  /// Data da última atualização\n  atualizadoEm DateTime @updatedAt\n\n  @@index([status])\n  @@index([dataInicio, dataFim])\n  @@map(\"campanhas\")\n}\n\n// ============================================================================\n// MODEL: RegraCartela\n// ============================================================================\n/// Define uma cartela específica de uma campanha (ex: Cartela 1, Cartela 2).\nmodel RegraCartela {\n  /// ID único da regra de cartela (UUID v4)\n  id String @id @default(uuid())\n\n  /// Número sequencial da cartela (1, 2, 3, ...)\n  numeroCartela Int\n\n  /// Descrição da cartela (ex: \"Cartela Bronze - Produtos Básicos\")\n  descricao String?\n\n  /// ID da campanha à qual esta cartela pertence\n  campanhaId String\n\n  /// Referência à campanha\n  campanha Campanha @relation(fields: [campanhaId], references: [id], onDelete: Cascade)\n\n  /// Lista de requisitos (produtos) desta cartela\n  requisitos RequisitoCartela[]\n\n  /// Data de criação do registro\n  criadoEm DateTime @default(now())\n\n  /// Data da última atualização\n  atualizadoEm DateTime @updatedAt\n\n  @@unique([campanhaId, numeroCartela])\n  @@index([campanhaId])\n  @@map(\"regras_cartelas\")\n}\n\n// ============================================================================\n// MODEL: RequisitoCartela\n// ============================================================================\n/// Define um requisito (card) de uma cartela com validação dinâmica via Rule Builder.\nmodel RequisitoCartela {\n  /// ID único do requisito (UUID v4)\n  id String @id @default(uuid())\n\n  /// Título/descrição do card mostrado ao vendedor (ex: \"Lentes BlueProtect Max\")\n  descricao String\n\n  /// Quantidade necessária para completar este requisito\n  quantidade Int\n\n  /// Tipo de unidade para contabilização (PAR ou UNIDADE)\n  tipoUnidade TipoUnidade @default(UNIDADE)\n\n  /// Ordem do requisito dentro da cartela (1, 2, 3...)\n  /// CRÍTICO para spillover: requisitos com a mesma ordem entre cartelas diferentes\n  /// são considerados \"relacionados\" (ex: \"Lentes X\" ordem=1 em todas as cartelas)\n  ordem Int\n\n  /// ID da regra de cartela à qual este requisito pertence\n  regraCartelaId String\n\n  /// Referência à regra de cartela\n  regraCartela RegraCartela @relation(fields: [regraCartelaId], references: [id], onDelete: Cascade)\n\n  /// Lista de condições de validação (Rule Builder)\n  condicoes CondicaoRequisito[]\n\n  /// Envios de venda submetidos contra este requisito\n  enviosVenda EnvioVenda[]\n\n  /// Data de criação do registro\n  criadoEm DateTime @default(now())\n\n  /// Data da última atualização\n  atualizadoEm DateTime @updatedAt\n\n  @@index([regraCartelaId])\n  @@index([ordem])\n  @@map(\"requisitos_cartelas\")\n}\n\n// ============================================================================\n// MODEL: CondicaoRequisito\n// ============================================================================\n/// Representa uma condição individual do Rule Builder.\nmodel CondicaoRequisito {\n  /// ID único da condição (UUID v4)\n  id String @id @default(uuid())\n\n  /// Campo do pedido que será verificado\n  campo CampoVerificacao\n\n  /// Operador lógico da comparação\n  operador OperadorCondicao\n\n  /// Valor de referência para a comparação\n  valor String\n\n  /// ID do requisito ao qual esta condição pertence\n  requisitoId String\n\n  /// Referência ao requisito\n  requisito RequisitoCartela @relation(fields: [requisitoId], references: [id], onDelete: Cascade)\n\n  /// Data de criação do registro\n  criadoEm DateTime @default(now())\n\n  /// Data da última atualização\n  atualizadoEm DateTime @updatedAt\n\n  @@index([requisitoId])\n  @@map(\"condicoes_requisitos\")\n}\n\n// ============================================================================\n// MODEL: EnvioVenda\n// ============================================================================\n/// Representa uma submissão de venda feita pelo vendedor.\nmodel EnvioVenda {\n  /// ID único do envio (UUID v4)\n  id String @id @default(uuid())\n\n  /// Número do pedido (vindo do sistema externo ou planilha)\n  numeroPedido String\n\n  /// Status atual do envio (EM_ANALISE, VALIDADO, REJEITADO, CONFLITO_MANUAL)\n  status StatusEnvioVenda @default(EM_ANALISE)\n\n  /// Data/hora da submissão\n  dataEnvio DateTime @default(now())\n\n  // --- Campos de Log (preenchidos pelo Admin) ---\n\n  /// Motivo da rejeição (se status = REJEITADO)\n  motivoRejeicao String? @db.Text\n\n  /// Informações sobre conflito/duplicata (se status = CONFLITO_MANUAL)\n  infoConflito String? @db.Text\n\n  // --- Campos de Alocação (preenchidos pelo robô de alocação) ---\n\n  /// Número da cartela na qual este envio foi alocado (1, 2, 3, ...)\n  numeroCartelaAtendida Int?\n\n  /// Data/hora da validação e alocação\n  dataValidacao DateTime?\n\n  // --- Relações ---\n\n  /// ID do vendedor que submeteu\n  vendedorId String\n\n  /// Referência ao vendedor\n  vendedor Usuario @relation(fields: [vendedorId], references: [id], onDelete: Cascade)\n\n  /// ID da campanha associada\n  campanhaId String\n\n  /// Referência à campanha\n  campanha Campanha @relation(fields: [campanhaId], references: [id], onDelete: Cascade)\n\n  /// ID do requisito (card) contra o qual a venda foi submetida\n  requisitoId String\n\n  /// Referência ao requisito\n  requisito RequisitoCartela @relation(fields: [requisitoId], references: [id], onDelete: Restrict)\n\n  /// Data de criação do registro\n  criadoEm DateTime @default(now())\n\n  /// Data da última atualização\n  atualizadoEm DateTime @updatedAt\n\n  @@index([vendedorId])\n  @@index([campanhaId])\n  @@index([status])\n  @@index([numeroPedido])\n  @@index([requisitoId])\n  @@map(\"envios_vendas\")\n}\n\n// ============================================================================\n// MODEL: Premio\n// ============================================================================\n/// Catálogo de prêmios disponíveis para resgate com saldoMoedinhas.\nmodel Premio {\n  /// ID único do prêmio (UUID v4)\n  id String @id @default(uuid())\n\n  /// Nome do prêmio (ex: \"iPhone 15 Pro\", \"Vale-Compras R$ 500\")\n  nome String\n\n  /// Descrição detalhada do prêmio\n  descricao String @db.Text\n\n  /// URL da imagem do prêmio\n  imageUrl String?\n\n  /// Custo em Moedinhas EPS (moeda virtual) necessário para resgatar este prêmio.\n  /// Deduzido do saldoMoedinhas do vendedor ao resgatar.\n  custoMoedinhas Int\n\n  /// Quantidade disponível em estoque\n  estoque Int @default(0)\n\n  /// Indica se o prêmio está ativo para resgate\n  ativo Boolean @default(true)\n\n  /// Histórico de resgates deste prêmio\n  resgates ResgatePremio[]\n\n  /// Data de criação do registro\n  criadoEm DateTime @default(now())\n\n  /// Data da última atualização\n  atualizadoEm DateTime @updatedAt\n\n  @@index([ativo])\n  @@map(\"premios\")\n}\n\n// ============================================================================\n// MODEL: ResgatePremio (REFACTORED - Fluxo de Logística de Prêmios)\n// ============================================================================\n/// Histórico de resgates de prêmios pelos vendedores.\n/// Agora é uma \"ordem de serviço\" que reflete o fluxo logístico.\nmodel ResgatePremio {\n  /// ID único do resgate (UUID v4)\n  id String @id @default(uuid())\n\n  /// Data/hora da solicitação do resgate\n  dataSolicitacao DateTime @default(now())\n\n  /// Status do fluxo logístico do resgate\n  status StatusResgate @default(SOLICITADO)\n\n  /// Data/hora da última atualização (qualquer mudança de status)\n  dataAtualizacao DateTime @updatedAt\n\n  /// Motivo do cancelamento (preenchido apenas se status = CANCELADO)\n  motivoCancelamento String? @db.Text\n\n  /// ID do vendedor que resgatou\n  vendedorId String\n\n  /// Referência ao vendedor\n  vendedor Usuario @relation(fields: [vendedorId], references: [id], onDelete: Cascade)\n\n  /// ID do prêmio resgatado\n  premioId String\n\n  /// Referência ao prêmio\n  premio Premio @relation(fields: [premioId], references: [id], onDelete: Cascade)\n\n  /// Data de criação do registro\n  criadoEm DateTime @default(now())\n\n  /// Data da última atualização\n  atualizadoEm DateTime @updatedAt\n\n  @@index([vendedorId])\n  @@index([premioId])\n  @@index([status])\n  @@map(\"resgates_premios\")\n}\n\n// ============================================================================\n// NOVO ENUM - Status do fluxo de logística de resgate de prêmios\n// ============================================================================\nenum StatusResgate {\n  SOLICITADO // Vendedor pediu, aguardando processamento do Admin\n  ENVIADO // Admin processou e enviou o prêmio\n  CANCELADO // Admin cancelou (ex: falta de estoque) e estornou os pontos\n}\n\n// ============================================================================\n// MODEL: RelatorioFinanceiro\n// ============================================================================\n/// Registros de pagamentos devidos a Vendedores e Gerentes.\nmodel RelatorioFinanceiro {\n  /// ID único do relatório (UUID v4)\n  id String @id @default(uuid())\n\n  /// Valor em reais a ser pago\n  valor Decimal @db.Decimal(10, 2)\n\n  /// Status do pagamento (PENDENTE, PAGO)\n  status StatusPagamento @default(PENDENTE)\n\n  /// Tipo de pagamento: \"VENDEDOR\" (por cartela) ou \"GERENTE\" (comissão)\n  tipo String\n\n  /// Data/hora de geração do relatório\n  dataGerado DateTime @default(now())\n\n  /// Data/hora do pagamento (quando status = PAGO)\n  dataPagamento DateTime?\n\n  /// Observações adicionais\n  observacoes String? @db.Text\n\n  /// ID do usuário beneficiário (Vendedor ou Gerente)\n  usuarioId String\n\n  /// Referência ao usuário\n  usuario Usuario @relation(fields: [usuarioId], references: [id], onDelete: Cascade)\n\n  /// ID da campanha relacionada\n  campanhaId String\n\n  /// Referência à campanha\n  campanha Campanha @relation(fields: [campanhaId], references: [id], onDelete: Cascade)\n\n  /// Data de criação do registro\n  criadoEm DateTime @default(now())\n\n  /// Data da última atualização\n  atualizadoEm DateTime @updatedAt\n\n  @@index([usuarioId])\n  @@index([campanhaId])\n  @@index([status])\n  @@index([tipo])\n  @@map(\"relatorios_financeiros\")\n}\n\n// ============================================================================\n// MODEL: Notificacao\n// ============================================================================\n/// Sistema de notificações para o \"Feed de Atividades\".\nmodel Notificacao {\n  /// ID único da notificação (UUID v4)\n  id String @id @default(uuid())\n\n  /// Mensagem da notificação (ex: \"Sua venda #1234 foi validada! +500 pontos\")\n  mensagem String @db.Text\n\n  /// Indica se a notificação foi lida pelo usuário\n  lida Boolean @default(false)\n\n  /// URL de link opcional (ex: redirecionar para detalhes da venda)\n  linkUrl String?\n\n  /// Data/hora de criação da notificação\n  dataCriacao DateTime @default(now())\n\n  /// ID do usuário destinatário\n  usuarioId String\n\n  /// Referência ao usuário\n  usuario Usuario @relation(fields: [usuarioId], references: [id], onDelete: Cascade)\n\n  /// Data de criação do registro\n  criadoEm DateTime @default(now())\n\n  /// Data da última atualização\n  atualizadoEm DateTime @updatedAt\n\n  @@index([usuarioId])\n  @@index([lida])\n  @@map(\"notificacoes\")\n}\n\n// ============================================================================\n// MODEL: ConfiguracaoGlobal\n// ============================================================================\n/// Armazena configurações globais do sistema.\nmodel ConfiguracaoGlobal {\n  /// ID único da configuração (UUID v4)\n  id String @id @default(uuid())\n\n  /// Chave da configuração (ex: \"PONTOS_NIVEL_PRATA\", \"TAXA_CONVERSAO_REAL\")\n  chave String @unique\n\n  /// Valor da configuração (armazenado como string, parse conforme necessário)\n  valor String\n\n  /// Descrição da configuração (para documentação)\n  descricao String @db.Text\n\n  /// Data de criação do registro\n  criadoEm DateTime @default(now())\n\n  /// Data da última atualização\n  atualizadoEm DateTime @updatedAt\n\n  @@index([chave])\n  @@map(\"configuracoes_globais\")\n}\n\n// ============================================================================\n// MODEL: CartelaConcluida (NOVO - Ledger de Segurança)\n// ============================================================================\n/// Livro-razão para registrar cartelas concluídas e prevenir pagamentos duplicados.\n/// Um vendedor só pode concluir a cartela N da campanha X uma única vez.\nmodel CartelaConcluida {\n  /// ID único do registro (UUID v4)\n  id            String   @id @default(uuid())\n  /// Data/hora em que a cartela foi concluída\n  dataConclusao DateTime @default(now())\n  /// Número da cartela concluída (1, 2, 3...)\n  numeroCartela Int\n\n  /// ID do vendedor\n  vendedorId String\n  /// Relação com o usuário vendedor\n  vendedor   Usuario @relation(fields: [vendedorId], references: [id])\n\n  /// ID da campanha\n  campanhaId String\n  /// Relação com a campanha\n  campanha   Campanha @relation(fields: [campanhaId], references: [id])\n\n  @@unique([vendedorId, campanhaId, numeroCartela], map: \"vendedor_campanha_cartela_unica\")\n}\n",
  "inlineSchemaHash": "552f4db4729f71c1995a67d5d4417876f56376011a75aa318acca1b6133c5042",
  "copyEngine": true
}
config.dirname = '/'

config.runtimeDataModel = JSON.parse("{\"models\":{\"Optica\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"cnpj\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"nome\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"endereco\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"cidade\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"estado\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"telefone\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"ativa\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"ehMatriz\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"matrizId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"matriz\",\"kind\":\"object\",\"type\":\"Optica\",\"relationName\":\"MatrizFiliais\"},{\"name\":\"filiais\",\"kind\":\"object\",\"type\":\"Optica\",\"relationName\":\"MatrizFiliais\"},{\"name\":\"usuarios\",\"kind\":\"object\",\"type\":\"Usuario\",\"relationName\":\"OpticaUsuarios\"},{\"name\":\"campanhasAlvo\",\"kind\":\"object\",\"type\":\"Campanha\",\"relationName\":\"CampanhasOticas\"},{\"name\":\"criadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"atualizadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"opticas\"},\"Usuario\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"cpf\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"nome\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"whatsapp\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"senhaHash\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"avatarUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"papel\",\"kind\":\"enum\",\"type\":\"PapelUsuario\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"StatusUsuario\"},{\"name\":\"saldoMoedinhas\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"rankingMoedinhas\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"nivel\",\"kind\":\"enum\",\"type\":\"NivelVendedor\"},{\"name\":\"tokenResetarSenha\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"tokenResetarSenhaExpira\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"mapeamentoPlanilhaSalvo\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"opticaId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"optica\",\"kind\":\"object\",\"type\":\"Optica\",\"relationName\":\"OpticaUsuarios\"},{\"name\":\"gerenteId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"gerente\",\"kind\":\"object\",\"type\":\"Usuario\",\"relationName\":\"GerenteVendedores\"},{\"name\":\"vendedores\",\"kind\":\"object\",\"type\":\"Usuario\",\"relationName\":\"GerenteVendedores\"},{\"name\":\"enviosVenda\",\"kind\":\"object\",\"type\":\"EnvioVenda\",\"relationName\":\"EnvioVendaToUsuario\"},{\"name\":\"resgatesPremios\",\"kind\":\"object\",\"type\":\"ResgatePremio\",\"relationName\":\"ResgatePremioToUsuario\"},{\"name\":\"relatoriosFinanceiros\",\"kind\":\"object\",\"type\":\"RelatorioFinanceiro\",\"relationName\":\"RelatorioFinanceiroToUsuario\"},{\"name\":\"notificacoes\",\"kind\":\"object\",\"type\":\"Notificacao\",\"relationName\":\"NotificacaoToUsuario\"},{\"name\":\"cartelasConcluidas\",\"kind\":\"object\",\"type\":\"CartelaConcluida\",\"relationName\":\"CartelaConcluidaToUsuario\"},{\"name\":\"criadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"atualizadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"usuarios\"},\"LogAutenticacao\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"tipo\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"cpf\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"usuarioId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"ipAddress\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userAgent\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"detalhes\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"criadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"logs_autenticacao\"},\"Campanha\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"titulo\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"descricao\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dataInicio\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"dataFim\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"moedinhasPorCartela\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"pontosReaisPorCartela\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"percentualGerente\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"paraTodasOticas\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"oticasAlvo\",\"kind\":\"object\",\"type\":\"Optica\",\"relationName\":\"CampanhasOticas\"},{\"name\":\"cartelas\",\"kind\":\"object\",\"type\":\"RegraCartela\",\"relationName\":\"CampanhaToRegraCartela\"},{\"name\":\"enviosVenda\",\"kind\":\"object\",\"type\":\"EnvioVenda\",\"relationName\":\"CampanhaToEnvioVenda\"},{\"name\":\"relatoriosFinanceiros\",\"kind\":\"object\",\"type\":\"RelatorioFinanceiro\",\"relationName\":\"CampanhaToRelatorioFinanceiro\"},{\"name\":\"cartelasConcluidas\",\"kind\":\"object\",\"type\":\"CartelaConcluida\",\"relationName\":\"CampanhaToCartelaConcluida\"},{\"name\":\"criadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"atualizadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"campanhas\"},\"RegraCartela\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"numeroCartela\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"descricao\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"campanhaId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"campanha\",\"kind\":\"object\",\"type\":\"Campanha\",\"relationName\":\"CampanhaToRegraCartela\"},{\"name\":\"requisitos\",\"kind\":\"object\",\"type\":\"RequisitoCartela\",\"relationName\":\"RegraCartelaToRequisitoCartela\"},{\"name\":\"criadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"atualizadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"regras_cartelas\"},\"RequisitoCartela\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"descricao\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"quantidade\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"tipoUnidade\",\"kind\":\"enum\",\"type\":\"TipoUnidade\"},{\"name\":\"ordem\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"regraCartelaId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"regraCartela\",\"kind\":\"object\",\"type\":\"RegraCartela\",\"relationName\":\"RegraCartelaToRequisitoCartela\"},{\"name\":\"condicoes\",\"kind\":\"object\",\"type\":\"CondicaoRequisito\",\"relationName\":\"CondicaoRequisitoToRequisitoCartela\"},{\"name\":\"enviosVenda\",\"kind\":\"object\",\"type\":\"EnvioVenda\",\"relationName\":\"EnvioVendaToRequisitoCartela\"},{\"name\":\"criadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"atualizadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"requisitos_cartelas\"},\"CondicaoRequisito\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"campo\",\"kind\":\"enum\",\"type\":\"CampoVerificacao\"},{\"name\":\"operador\",\"kind\":\"enum\",\"type\":\"OperadorCondicao\"},{\"name\":\"valor\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"requisitoId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"requisito\",\"kind\":\"object\",\"type\":\"RequisitoCartela\",\"relationName\":\"CondicaoRequisitoToRequisitoCartela\"},{\"name\":\"criadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"atualizadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"condicoes_requisitos\"},\"EnvioVenda\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"numeroPedido\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"StatusEnvioVenda\"},{\"name\":\"dataEnvio\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"motivoRejeicao\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"infoConflito\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"numeroCartelaAtendida\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"dataValidacao\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"vendedorId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"vendedor\",\"kind\":\"object\",\"type\":\"Usuario\",\"relationName\":\"EnvioVendaToUsuario\"},{\"name\":\"campanhaId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"campanha\",\"kind\":\"object\",\"type\":\"Campanha\",\"relationName\":\"CampanhaToEnvioVenda\"},{\"name\":\"requisitoId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"requisito\",\"kind\":\"object\",\"type\":\"RequisitoCartela\",\"relationName\":\"EnvioVendaToRequisitoCartela\"},{\"name\":\"criadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"atualizadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"envios_vendas\"},\"Premio\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"nome\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"descricao\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"imageUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"custoMoedinhas\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"estoque\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"ativo\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"resgates\",\"kind\":\"object\",\"type\":\"ResgatePremio\",\"relationName\":\"PremioToResgatePremio\"},{\"name\":\"criadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"atualizadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"premios\"},\"ResgatePremio\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dataSolicitacao\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"StatusResgate\"},{\"name\":\"dataAtualizacao\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"motivoCancelamento\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"vendedorId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"vendedor\",\"kind\":\"object\",\"type\":\"Usuario\",\"relationName\":\"ResgatePremioToUsuario\"},{\"name\":\"premioId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"premio\",\"kind\":\"object\",\"type\":\"Premio\",\"relationName\":\"PremioToResgatePremio\"},{\"name\":\"criadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"atualizadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"resgates_premios\"},\"RelatorioFinanceiro\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"valor\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"StatusPagamento\"},{\"name\":\"tipo\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dataGerado\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"dataPagamento\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"observacoes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"usuarioId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"usuario\",\"kind\":\"object\",\"type\":\"Usuario\",\"relationName\":\"RelatorioFinanceiroToUsuario\"},{\"name\":\"campanhaId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"campanha\",\"kind\":\"object\",\"type\":\"Campanha\",\"relationName\":\"CampanhaToRelatorioFinanceiro\"},{\"name\":\"criadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"atualizadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"relatorios_financeiros\"},\"Notificacao\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"mensagem\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lida\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"linkUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dataCriacao\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"usuarioId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"usuario\",\"kind\":\"object\",\"type\":\"Usuario\",\"relationName\":\"NotificacaoToUsuario\"},{\"name\":\"criadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"atualizadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"notificacoes\"},\"ConfiguracaoGlobal\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"chave\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"valor\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"descricao\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"criadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"atualizadoEm\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":\"configuracoes_globais\"},\"CartelaConcluida\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dataConclusao\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"numeroCartela\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"vendedorId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"vendedor\",\"kind\":\"object\",\"type\":\"Usuario\",\"relationName\":\"CartelaConcluidaToUsuario\"},{\"name\":\"campanhaId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"campanha\",\"kind\":\"object\",\"type\":\"Campanha\",\"relationName\":\"CampanhaToCartelaConcluida\"}],\"dbName\":null}},\"enums\":{},\"types\":{}}")
defineDmmfProperty(exports.Prisma, config.runtimeDataModel)
config.engineWasm = {
  getRuntime: async () => require('./query_engine_bg.js'),
  getQueryEngineWasmModule: async () => {
    const loader = (await import('#wasm-engine-loader')).default
    const engine = (await loader).default
    return engine
  }
}
config.compilerWasm = undefined

config.injectableEdgeEnv = () => ({
  parsed: {
    DATABASE_URL: typeof globalThis !== 'undefined' && globalThis['DATABASE_URL'] || typeof process !== 'undefined' && process.env && process.env.DATABASE_URL || undefined
  }
})

if (typeof globalThis !== 'undefined' && globalThis['DEBUG'] || typeof process !== 'undefined' && process.env && process.env.DEBUG || undefined) {
  Debug.enable(typeof globalThis !== 'undefined' && globalThis['DEBUG'] || typeof process !== 'undefined' && process.env && process.env.DEBUG || undefined)
}

const PrismaClient = getPrismaClient(config)
exports.PrismaClient = PrismaClient
Object.assign(exports, Prisma)

